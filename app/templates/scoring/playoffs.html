{% extends "layout.html" %}
{% block title %}FLL Playoffs{% endblock %}
{% block pageContent %}
    <h1>Playoffs</h1>
    <div class="col-md-4">
        <h2 style="text-align: center;">Quarterfinals</h2>
        <!-- TODO hide this until at least one score is entered for previous round -->
        <!-- TODO hide this until at least one score is entered for previous round -->
        <p style="text-align: center;">
            {% if quarterfinal_teams.count() == 0 %}
                <a href="{{ url_for('.populate', selected_round=4) }}">Populate</a>
            {% else %}
                <!-- TODO Add an option to clear this round (teams and scores) -->
                Clear
            {% endif %}
        </p>
        <table class="table table-hover display" width="100%">
            <thead>
                <tr>
                    <th>Number</th>
                    <th>Name</th>
                    <th>Score</th>
                </tr>
            </thead>
            <tbody>
                <!-- TODO could this be made into a template helper? -->
                {% for team in quarterfinal_teams %}
                    <tr>
                        <td>{{ team.number }}</td>
                        <td>{{ team.name }}</td>
                        <!-- TODO could this be made into a template helper? -->
                        <td>
                            {% if team.quarterfinal != None %}
                                <a href="{{ url_for('.edit', score_id=team.quarterfinal.id) }}">{{ team.quarterfinal.total }}</a>
                                <a href="{{ url_for('.delete', score_id=team.quarterfinal.id) }}" class="btn btn-xs btn-danger fa fa-trash-o"></a>
                            {% else %}
                                <a href="{{ url_for('.add', team_id=team.id, round=4) }}">Add</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="col-md-4">
        <h2 style="text-align: center;">Semifinals</h2>
        <!-- TODO hide this until at least one score is entered for previous round -->
        <!-- TODO hide this until at least one score is entered for previous round -->
        <p style="text-align: center;">
            {% if semifinal_teams.count() == 0 %}
                <a href="{{ url_for('.populate', selected_round=5) }}">Populate</a>
            {% else %}
                <!-- TODO Add an option to clear this round (teams and scores) -->
                Clear
            {% endif %}
        </p>
        <table class="table table-hover display" width="100%">
            <thead>
                <tr>
                    <th>Number</th>
                    <th>Name</th>
                    <th>Score</th>
                </tr>
            </thead>
            <tbody>
                <!-- TODO could this be made into a template helper? -->
                {% for team in semifinal_teams %}
                    <tr>
                        <td>{{ team.number }}</td>
                        <td>{{ team.name }}</td>
                        <!-- TODO could this be made into a template helper? -->
                        <td>
                            {% if team.semifinal != None %}
                                <a href="{{ url_for('.edit', score_id=team.semifinal.id) }}">{{ team.semifinal.total }}</a>
                                <a href="{{ url_for('.delete', score_id=team.semifinal.id) }}" class="btn btn-xs btn-danger fa fa-trash-o"></a>
                            {% else %}
                                <a href="{{ url_for('.add', team_id=team.id, round=5) }}">Add</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="col-md-4">
        <h2 style="text-align: center;">Finals</h2>
        <!-- TODO hide this until at least one score is entered for previous round -->
        <p style="text-align: center;">
            {% if final_teams.count() == 0 %}
                <a href="{{ url_for('.populate', selected_round=6) }}">Populate</a>
            {% else %}
                <!-- TODO Add an option to clear this round (teams and scores) -->
                Clear
            {% endif %}
        </p>
        <table class="table table-hover display" width="100%">
            <thead>
                <tr>
                    <th>Number</th>
                    <th>Name</th>
                    <th>Score</th>
                </tr>
            </thead>
            <tbody>
                <!-- TODO could this be made into a template helper? -->
                {% for team in final_teams %}
                    <tr>
                        <td>{{ team.number }}</td>
                        <td>{{ team.name }}</td>
                        <!-- TODO could this be made into a template helper? -->
                        <td>
                            {% if team.final != None %}
                                <a href="{{ url_for('.edit', score_id=team.final.id) }}">{{ team.final.total }}</a>
                                <a href="{{ url_for('.delete', score_id=team.final.id) }}" class="btn btn-xs btn-danger fa fa-trash-o"></a>
                            {% else %}
                                <a href="{{ url_for('.add', team_id=team.id, round=6) }}">Add</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
